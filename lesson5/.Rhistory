load(diamonds)
library(ggplot2)
load(diamonds)
data("diamonds")
str(diamonds)
ggplot(data=diamonds)+geom_bar(mapping = aes(x=cut))
ggplot(data=diamonds)+geom_histogram(mapping = aes(x=cut),binwidth = 0.25)
ggplot(data=diamonds)+geom_histogram(mapping = aes(x=carat), binwidth = 0.25)
ggplot(data=diamonds)+geom_histogram(mapping = aes(x=carat), binwidth = 0.1)
ggplot(data=diamonds)+geom_histogram(mapping = aes(x=carat), binwidth = 0.5)
ggplot(data=diamonds, mapping=aes(x=carat,colours=cut))+geom_freqpoly(binwidth=0.2)
ggplot(data=diamonds, mapping=aes(x=carat,colour=cut))+geom_freqpoly(binwidth=0.2)
ggplot(data=diamonds, mapping=aes(x=log10(carat),colour=cut))+geom_freqpoly(binwidth=0.2)
ggplot(data=diamonds, mapping=aes(x=log10(carat),colour=cut))+geom_freqpoly(binwidth=0.1)
setwd("~/R/udacity scripts/lesson4")
library(ggplot2)
data("diamonds")
str(diamonds)
ggplot(aes(x=x,y=price),data=diamonds) +
geom_point(alpha=1/40,position = position_jitter(h=0.1)) +
xlim(3,quantile(diamonds$x,0.90)) +
ylim(0,quantile(diamonds$price,0.90))
with(diamonds,cor.test(x = x, y = price, method = 'pearson'))
with(diamonds,cor.test(x = y, y = price, method = 'pearson'))
with(diamonds,cor.test(x = z, y = price, method = 'pearson'))
ggplot(aes(x=depth,y=price),data=diamonds) +
geom_point(alpha=1/100) +
scale_x_continuous(breaks=seq(40,80,2))
with(diamonds,cor.test(x = depth, y = price, method = 'pearson'))
ggplot(aes(x=carat,y=price),data=diamonds) +
geom_point(alpha=1/40,position = position_jitter(h=0.1)) +
xlim(3,quantile(diamonds$x,0.99)) +
ylim(0,quantile(diamonds$price,0.99))
ggplot(aes(x=carat,y=price),data=diamonds) +
geom_point(alpha=1/40,position = position_jitter(h=0.1)) +
xlim(0,quantile(diamonds$carat,0.99)) +
ylim(0,quantile(diamonds$price,0.99))
ggplot(aes(x=carat,y=price),data=diamonds) +
geom_point(alpha=1/20,position = position_jitter(h=0.1)) +
xlim(0,quantile(diamonds$carat,0.99)) +
ylim(0,quantile(diamonds$price,0.99))
ggplot(aes(x=carat,y=price),data=diamonds) +
geom_point(alpha=1/20,position = 'jitter') +
xlim(0,quantile(diamonds$carat,0.99)) +
ylim(0,quantile(diamonds$price,0.99))
ggplot(aes(x=carat,y=price),data=diamonds) +
geom_point(alpha=1/30,position = 'jitter') +
xlim(0,quantile(diamonds$carat,0.99)) +
ylim(0,quantile(diamonds$price,0.99))
ggplot(aes(x=carat,y=price),data=diamonds) +
geom_point(alpha=1/40,position = 'jitter') +
xlim(0,quantile(diamonds$carat,0.99)) +
ylim(0,quantile(diamonds$price,0.99))
ggplot(aes(x=carat,y=price),data=diamonds) +
geom_point(alpha=1/40,position = 'jitter') +
xlim(0,quantile(diamonds$carat,0.99)) +
ylim(0,quantile(diamonds$price,0.99))
diamonds$volume <- diamonds$x * diamonds$y * diamonds$z
ggplot(aes(x=volume,y=price),data=diamonds) +
geom_point()
knitr::opts_chunk$set(echo = TRUE)
df <- read.csv('fraud_small.tsv',sep='\t',nrows = 5000)
library(ggplot2)
library(gridExtra)
qplot(x='',xlab = 'fraud',y=konduto_score,
data=subset(df, df$konduto_recommendation %in% c('APPROVE','DECLINE','REVIEW') & df$status == 'PAID'),
geom='boxplot') +
facet_grid(konduto_recommendation ~ is_chargeback) +
coord_cartesian(ylim=c(0,0.7))
ggplot(aes(y=konduto_score,x=sift_score),data = df[df$konduto_score>=0,]) +
geom_point(alpha=1/30,position = 'jitter') +
ylim(0,0.4)
setwd('~/R/Guiche/Nordeste')
library(readxl)
sete = read_excel('abr-dez-17.xlsx')
oito = read_excel('jan-mai-18.xlsx')
View(oito)
View(oito)
View(sete)
View(sete)
sete = read_excel('abr-dez-17.xlsx')
oito = read_excel('jan-mai-18.xlsx')
str(df)
str(sete)
str(oito)
library(dplyr)
library(ggplot2)
str(sete)
df = read_excel('abr-dez-17.xlsx')
df2 = read_excel('jan-mai-18.xlsx')
str(df)
View(sete)
rm(oito,sete)
df_diasemana <- df %>% group_by(Dia_Semana) %>% summarise(mean_qtd = mean(Qtde_Vendas), mean_value = mean(Valor_Vendas))
View(df)
View(df_diasemana)
str(df_diasemaan)
str(df_diasemana)
View(df_diasemana)
df_diasemana$Dia_Semana = factor(df_diasemana$Dia_Semana,c('Segunda','Terça','Quarta','Quinta','Sexta','Sábado','Domingo'))
ggplot(aes(x = Dia_Semana, y = mean_qtd),data=df_diasemana) +
geom_line()
rm(df_diasemana)
df$Dia_Semana = factor(df$Dia_Semana,c('Segunda','Terça','Quarta','Quinta','Sexta','Sábado','Domingo'))
ggplot(aes(x = Dia_Semana, y = Valor_Vendas),
data = df) + geom_boxplot() +
stat_summary(fun.y = mean, geom = 'point', shape = 4)
df = read_excel('abr-dez-17.xlsx')
df$Dia_Semana = factor(df$Dia_Semana,c('Segunda','Terça','Quarta','Quinta','Sexta','Sábado','Domingo'))
ggplot(aes(x = Dia_Semana, y = Valor_Vendas),
data = df) + geom_boxplot() +
stat_summary(fun.y = mean, geom = 'point', shape = 4)
str(df)
df$Hora_viagem = strptime(df$Hora_viagem,"%Y-%m-%d %H:%m:%s")
df = read_excel('abr-dez-17.xlsx')
df$Dia_Semana = factor(df$Dia_Semana,c('Segunda','Terça','Quarta','Quinta','Sexta','Sábado','Domingo'))
df$Hora_viagem2 = strptime(df$Hora_viagem,"%Y-%m-%d %H:%i:%s")
df$Hora_viagem2 = strptime(df$Hora_viagem,"%Y-%M-%D %H:%M:%S")
df$Hora_viagem2 = strptime(df$Hora_viagem,"%Y-%m-%d %H:%M:%S")
df$Hora_viagem2 = format(df$Hora_viagem,"%H")
df$Hora_viagem2 = as.numeric(format(df$Hora_viagem,"%H"))
rm(df$Hora_viagem2)
drop(df$Hora_viagem2)
df$hora_group = cut(data$Hora,c(0,6,12,18,23))
df$Hora = as.numeric(format(df$Hora_viagem,"%H"))
df$hora_group = cut(data$Hora,c(0,6,12,18,23))
df$hora_group = cut(df$Hora,c(0,6,12,18,23))
levels(df$hora_group) = c("0-6","6-11","12-17","18-23")
ggplot(aes(x = Dia_Semana, y = Valor_Vendas),
data = df) +
geom_line(aes(color=hora_group), stat = 'summary', fun.y = median)
View(df)
levels(df$hora_group) = c("0-6","7-12","13-18","19-23")
ggplot(aes(x = Dia_Semana, y = Valor_Vendas),
data = df) +
geom_line(aes(color=hora_group), stat = 'summary', fun.y = median)
ggplot(aes(x = Dia_Semana, y = Valor_Vendas),
data = df) +
geom_line(aes(color=hora_group), stat = 'summary', fun.y = median)
ggplot(aes(x = Dia_Semana, y = Valor_Vendas),
data = df) #+
ggplot(aes(x = Dia_Semana, y = Valor_Vendas),
data = df) +geom_line() #+
ggplot(aes(x = Dia_Semana, y = Valor_Vendas),
data = df) +geom_line(aes(color=hora_group)) #+
ggplot(aes(x = Dia_Semana, y = Valor_Vendas),
data = df) +geom_line(aes(color=hora_group), stat = 'summary') #+
ggplot(aes(x = Dia_Semana, y = Valor_Vendas),
data = df) +geom_line(aes(color=hora_group), stat = 'summary', fun.y mean) #+
ggplot(aes(x = Dia_Semana, y = Valor_Vendas),
data = df) +geom_line(aes(color=hora_group), stat = 'summary', fun.y = mean) #+
stat_summary(fun.y = mean, geom='line')  #+
ggplot(aes(x = Dia_Semana, y = Valor_Vendas),
data = df) +geom_line(aes(color=hora_group)) +
stat_summary(fun.y = mean, geom='line')  #+
ggplot(aes(x = Dia_Semana, y = Valor_Vendas),
data = df) +geom_line(aes(color=hora_group)) +
stat_summary(fun.y = mean, geom='point')  #+
ggplot(aes(x = Dia_Semana, y = Valor_Vendas),
data = df) +geom_bar(aes(color=hora_group)) +
stat_summary(fun.y = mean, geom='point')  #+
ggplot(aes(x = Dia_Semana, y = Valor_Vendas),
data = df) +geom_bar(aes(color=hora_group)) +
stat_summary(fun.y = mean, geom='line')  #+
line
ggplot(aes(x = Dia_Semana, y = Valor_Vendas),
data = df) +geom_line(aes(color=hora_group)) +
stat_summary(fun.y = mean, geom='line')  #+
ggplot(aes(x = Dia_Semana, y = Valor_Vendas),
data = df) +geom_line(aes(color=hora_group),group=g) +
stat_summary(fun.y = mean, geom='line')  #+
ggplot(aes(x = Dia_Semana, y = Valor_Vendas),
data = df) +geom_line(aes(color=hora_group),group=hora_group) +
stat_summary(fun.y = mean, geom='line')  #+
data = df) +geom_line(aes(color=hora_group),group=aes(hora_group) +
ggplot(aes(x = Dia_Semana, y = Valor_Vendas),
data = df) +geom_line(aes(color=hora_group),group=aes(hora_group)) +
stat_summary(fun.y = mean, geom='line')  #+
ggplot(aes(x = Dia_Semana, y = Valor_Vendas),
data = df) +geom_line(aes(color=hora_group),group=1) +
stat_summary(fun.y = mean, geom='line')  #+
ggplot(aes(x = Dia_Semana, y = Valor_Vendas),
data = df) +geom_line(aes(color=hora_group, group = hora_group)) +
stat_summary(fun.y = mean, geom='line')  #+
ggplot(aes(x = Dia_Semana, y = Valor_Vendas, group = hora_group),
data = df) +geom_line(aes(color=hora_group)) +
stat_summary(fun.y = mean, geom='line')  #+
ggplot(aes(x = Dia_Semana, y = Valor_Vendas),
data = df) +geom_line(aes(color=hora_group)) +
stat_summary(fun.y = mean, geom='line')  #+
setwd("~/R/udacity scripts/lesson5")
setwd("~/R/udacity scripts/lesson5")
pf <- read.csv("pseudo_facebook.tsv",sep="\t")
library(ggplot2)
ggplot(aes(x = Dia_Semana, y = Valor_Vendas, color = hora_group),
data = df) +
geom_line(stat = 'summary', fun.y = median) #+
View(df)
ggplot(aes(x = df$Hora, y = Valor_Vendas, color = hora_group),
data = df) +
geom_line(stat = 'summary', fun.y = median) #+
df = read_excel('abr-dez-17.xlsx')
ggplot(aes(x = Dia_Semana, y = Valor_Vendas),
data = df) + geom_boxplot() +
stat_summary(fun.y = mean, geom = 'point', shape = 4)
ggplot(aes(x = df$H, y = Valor_Vendas, color = hora_group),
data = df) +
geom_line(stat = 'summary', fun.y = median) #+
df$Hora = as.numeric(format(df$Hora_viagem,"%H"))
df$hora_group = cut(df$Hora,c(0,6,12,18,23))
levels(df$hora_group) = c("0-6","7-12","13-18","19-23")
ggplot(aes(x = df$H, y = Valor_Vendas, color = hora_group),
data = df) +
geom_line(stat = 'summary', fun.y = median) #+
ggplot(aes(x = Dia_Semana, y = Valor_Vendas, color = hora_group),
data = df) +
geom_line(stat = 'summary', fun.y = median) #+
ggplot(aes(x = Dia_Semana, y = Valor_Vendas, color = hora_group, group=hora_group),
data = df) +
geom_line(stat = 'summary', fun.y = median) #+
df$Dia_Semana = factor(df$Dia_Semana,c('Segunda','Terça','Quarta','Quinta','Sexta','Sábado','Domingo'))
ggplot(aes(x = Dia_Semana, y = Valor_Vendas, color = hora_group, group=hora_group),
data = df) +
geom_line(stat = 'summary', fun.y = median) #+
